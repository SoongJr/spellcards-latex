\documentclass[a4paper]{article}

% Test modular package without cardify (for debugging/drafting)
\usepackage{spellcards}

\begin{document}

\section*{Test: Core Module - Variables and Constants}

Package loaded successfully. Core variables initialized.

\section*{Test: Deck Management}

\begin{spelldeck}
  % First deck must be unnamed
  \begin{spellcard}{sor}{Test Spell 1}{0}
    \spellprop{school}{evocation}
    \spellprop{components}{V, S}
    \spellprop{castingtime}{1 standard action}
    \spellprop{range}{25 ft.}
    \spellprop{duration}{instantaneous}
    \spellprop{savingthrow}{none}
    \spellprop{spellresistance}{no}
    \spellprop{attackroll}{NULL}

    \spellcardinfo{}

    Test spell description for deck testing.
  \end{spellcard}
\end{spelldeck}

\begin{spelldeck}[Combat Spells]
  % Subsequent decks must be named
  \begin{spellcard}{sor}{Test Spell 2}{1}
    \spellprop{school}{conjuration}
    \spellprop{components}{V, S, M}
    \spellprop{castingtime}{1 standard action}
    \spellprop{range}{close}
    \spellprop{duration}{1 round}
    \spellprop{savingthrow}{Will negates}
    \spellprop{spellresistance}{yes}
    \spellprop{attackroll}{NULL}

    \spellcardinfo{}

    Second spell in named deck.
  \end{spellcard}
\end{spelldeck}

\section*{Test: QR Codes}

\begin{spelldeck}[Utility Spells]
  \begin{spellcard}{wiz}{Test QR Spell}{2}
    \spellprop{school}{transmutation}
    \spellprop{components}{V, S}
    \spellprop{castingtime}{1 standard action}
    \spellprop{range}{personal}
    \spellprop{duration}{1 hour}
    \spellprop{savingthrow}{none}
    \spellprop{spellresistance}{no}
    \spellprop{attackroll}{NULL}
    \spellprop{targets}{You}
    \spellprop{effect}{NULL}

    \spellcardinfo{}

    Testing QR code placement.

    \spellcardqr{https://www.d20pfsrd.com/magic/all-spells/t/test}
    \spellcardqr{https://example.com/secondary}
  \end{spellcard}
\end{spelldeck}

\section*{Test: Target and Effect Table}

\begin{spelldeck}[Table Tests]
  \begin{spellcard}{clr}{Test Target Effect}{3}
    \spellprop{school}{necromancy}
    \spellprop{components}{V, S, DF}
    \spellprop{castingtime}{1 standard action}
    \spellprop{range}{medium}
    \spellprop{duration}{instantaneous}
    \spellprop{savingthrow}{Fortitude negates}
    \spellprop{spellresistance}{yes}
    \spellprop{attackroll}{NULL}
    \spellprop{targets}{one living creature}
    \spellprop{effect}{ray of negative energy}

    \spellcardinfo{}

    Testing that target/effect table renders correctly without top rule.
  \end{spellcard}
\end{spelldeck}

\end{document}
